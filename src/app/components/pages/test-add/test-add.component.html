<h2>New Test</h2>
<mat-card>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
    <!-- Form test -->
    <div class="test">
      <mat-form-field>
        <input matInput placeholder="Name" formControlName="name" required>
        <mat-error *ngIf="form.controls.name.invalid">{{getErrorMessage('name')}}</mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Description" formControlName="description" required>
        <mat-error *ngIf="form.controls.name.invalid">{{getErrorMessage('description')}}</mat-error>
      </mat-form-field>
    </div>

    <div class="questionnaire-title">
      <h3>Questionnaire</h3>
    </div>
    <!-- quesrion form -->
    <mat-card class="questionnaire-content" formArrayName="questions"
      *ngFor="let control of form.controls['questions'].controls; let i = index">
      <mat-card-content>
        <app-question-form [questions]="form.controls.questions.controls[i]" [numberQuestion]="i + 1"
          (deleteQuestion)="deleteQuestion($event)">
        </app-question-form>
      </mat-card-content>
    </mat-card>
    <mat-card-actions>
      <a mat-button (click)="toBack()"> CANCEL </a>
      <a mat-button (click)="addQuestion()"> ADD QUESTION </a>
      <button mat-button color="primary"> SAVE </button>
    </mat-card-actions>
  </form>
</mat-card>